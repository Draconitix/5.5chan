<ul ng-if="joined == false && adding == false && editing == false">
<li ng-repeat="room in chatrooms track by $index"><button ng-click="joinChat(room.name)">{[{ room.name }]}</button><button ng-click="toggleEdit($index)" ng-if="room.user == user.username">Edit Room</button></li>
<button ng-click="toggleCreate()">+</button>    
</ul>
<div ng-if="joined != false">
<button ng-click="leaveChat()">Leave Chat Room</button>
<br />    
<input type="text" ng-model="message.text" maxlength="500" placeholder="Got something to say?" /><button ng-click="sendMessage()">Send Message</button>    
<chat-messages class="messageChatArea" messages="messages" authorize="trustUrl(url)"></chat-messages>        
</div>
<div ng-if="adding == true && joined == false && editing == false">
<button ng-click="toggleCreate()">Stop Adding</button>    
<form>   
<input type="text" ng-model="newroom.name" placeholder="Chat Name" ng-bind="validate(newroom.name, 'name')" />{[{ addErrs.name }]}
<br />    
Private Chat Room:<input type="checkbox" ng-model="newroom.private" ng-bind="validate(newroom.private, 'private')" />{[{ addErrs.private }]}
<br />
<ul ng-if="newroom.private == true">
<li ng-repeat="user in addUsers"><p>{[{ user.username }]}</p><input ng-if="user.creator == false" type="checkbox" ng-model="user.included" /></li>
</ul>
</form>
<button ng-click="createRoom()">Create Room</button>
</div>    
<div ng-if="editing == true && joined == false && adding == false">
<button ng-click="toggleEdit()">Stop Editing</button>    
<form>   
<input type="text" ng-model="editroom.name" placeholder="Chat Name" ng-bind="validate(editroom.name, 'name')" />{[{ editErrs.name }]}
<br />    
Private Chat Room:<input type="checkbox" ng-model="editroom.private" ng-bind="validate(editroom.private, 'private')" />{[{ editErrs.private }]}
<br />
<ul ng-if="editroom.private == true">
<li ng-repeat="user in editUsers"><p>{[{ user.username }]}</p><input ng-if="user.creator == false" type="checkbox" ng-model="user.included" /></li>
</ul>
</form>
<button ng-click="deleteRoom(editInitial.name)">Delete Room</button>    
<button ng-click="editRoom()">Edit Room</button>
</div>    