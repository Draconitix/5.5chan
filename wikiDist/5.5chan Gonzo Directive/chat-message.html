<ul>
<li ng-repeat="msg in messages track by $index"><div ng-repeat="part in msg.parts">
    <p ng-if="part.type == 'text'">{[{ part.text }]}</p>
    <a ng-if="part.type == 'url'" target="_blank" href="{[{ part.href }]}">{[{ part.href }]}</a>
    <img ng-if="part.type == 'image'" src="{[{ part.imgSrc }]}" />
    <iframe ng-if="part.type == 'video'" ng-src="{[{ authorize({ url: part.url}) }]}" allowfullscreen></iframe>
</div></li> 
</ul>    